let A=a=>a==void 0;document.addEventListener('DOMContentLoaded',function(){var _=0.8,b=0.8,c=window.fitToScreen!==void 0&&window.fitToScreen,B=1.0,E=document.getElementsByClassName('thumbnail-viewer'),f=document.getElementsByClassName('directory-viewer'),r=null;function g(C,_b){var _c=document.createElement('div');_c.className='thumbnail-viewer-label';_c.innerHTML=_c.title=_b;var D=window.name_under_thumbs!==void 0?window.name_under_thumbs:!0;if(D){_c.style.textAlign='center';_c.style.fontSize='12px';_c.style.marginTop='5px';_c.style.wordBreak='break-all';_c.style.color='inherit';var _e=window.truncate_names!==void 0&&window.truncate_names;_e?(_c.style.overflow='hidden',_c.style.textOverflow='ellipsis',_c.style.whiteSpace='nowrap',_c.style.display='block',_c.style.maxWidth='100px',_c.style.margin='5px auto 0 auto'):(_c.style.display='block')}else{_c.style.position='absolute';_c.style.bottom=_c.style.left=_c.style.right='5px';_c.style.textAlign='center';_c.style.fontSize='12px';_c.style.wordBreak='break-all';_c.style.color='#fff';_c.style.backgroundColor='rgba(0, 0, 0, 0.5)';_c.style.padding='2px';_c.style.boxSizing='border-box';_c.style.pointerEvents='none';C.style.position='relative'}C.style.display='inline-block';C.style.verticalAlign='top';C.style.textDecoration='none';C.appendChild(_c)}for(var i=0;i<E.length;i++){var e=E[i],J='',k=e.getElementsByTagName('img');if(k.length>0&&k[0].alt)J=k[0].alt;else{var l=e.getAttribute('href');if(l){var m=l.endsWith('/')?l.slice(0,-1):l;J=decodeURIComponent(m.substring(m.lastIndexOf('/')+1))}}J&&g(e,J);(function(_a,_B){_a.addEventListener('click',function(_A){_A.preventDefault();t(_B)})})(e,i)}for(var j=0;j<f.length;j++){var d=f[j],p=d.getAttribute('data-name');p&&g(d,p)}var q=[];if(E===null||A(E))return;if(E.length===0){var s=document.createElement('div');s.innerHTML='No images found';s.style.textAlign='center';s.style.marginTop='100px';s.style.fontFamily='Helvetica, Arial, sans-serif';s.style.color='#888';s.style.fontSize='24px';document.body.appendChild(s);return}function t(aG){var aH=E[aG],_C=aH.href,_d,G=v(),h=w(_C,_d),I=x(_C,_d),_j=y(),K=z(aG),L=aA(aG);var _E=aH.getElementsByTagName('img');_E.length>0&&(_d=_E[0].alt);var F=u();function M(){c=window.fitToScreen!==void 0&&window.fitToScreen;aC(F,G,h,I,_j,K,L)}window.thumbnailViewerReStyle=M;aB(F,G,h,I,_j,K,L);aE(F);document.body.appendChild(F);aD();q.push(F);M();h.addEventListener('load',M);r=M;window.addEventListener('resize',M);aF(F);function n(aI){if(aI.code==='PageUp'||aI.code==='ArrowLeft'){aI.preventDefault();aG>0&&t(aG-1)}else if(aI.code==='PageDown'||aI.code==='ArrowRight'){aI.preventDefault();aG<E.length-1&&t(aG+1)}else aI.code==='Escape'&&(aI.preventDefault(),aD())}function o(aJ){if(aJ.ctrlKey)return;aJ.preventDefault();if(aJ.deltaY>0)aG>0&&t(aG-1);else if(aJ.deltaY<0)aG<E.length-1&&t(aG+1)}window.addEventListener('keydown',n);window.addEventListener('wheel',o,{passive:!1});F._cleanupNav=()=>{window.removeEventListener('keydown',n);window.removeEventListener('wheel',o)}}document.addEventListener('keydown',function(aK){if(aK.code==='KeyF'){window.fitToScreen=!window.fitToScreen;var aL=document.getElementById('fit-to-screen-toggle');aL&&(aL.checked=window.fitToScreen);(q.length>0&&typeof window.thumbnailViewerReStyle==='function')&&window.thumbnailViewerReStyle()}});function u(){let e=document.createElement('div');e.className='thumbnail-viewer-overall';e.addEventListener('click',function(aM){aM.target.className==='thumbnail-viewer-overall'&&aD()});return e}function v(){let e=document.createElement('figure');e.className='thumbnail-viewer-container';return e}function w(aN,aO){let e=document.createElement('img');e.className='thumbnail-viewer-image';e.src=aN;(aO!==null&&!A(aO))&&(e.alt=aO);return e}function x(aP,aQ){let e=document.createElement('figcaption');e.className='thumbnail-viewer-caption';if(aQ)e.innerHTML=aQ;else{e.innerHTML=decodeURIComponent(aP.substring(aP.lastIndexOf('/')+1))}return e}function y(){let e=document.createElement('a');e.className='thumbnail-viewer-close';e.alt='Close image';e.href='#';e.innerHTML='Close';e.addEventListener('click',function(aR){aR.preventDefault();aD()});return e}function z(aS){if(aS>0){const e=document.createElement('a');e.className='thumbnail-viewer-prev';e.href='#';e.innerHTML='Previous';e.addEventListener('click',function(aT){aT.preventDefault();t(aS-1)});return e}return null}function aA(aU){if(aU<E.length-1){const e=document.createElement('a');e.className='thumbnail-viewer-next';e.href='#';e.innerHTML='Next';e.addEventListener('click',function(aV){aV.preventDefault();t(aU+1)});return e}return null}function aB(aW,aX,aY,_D,aZ,_f,_g){aW.appendChild(aX);aX.appendChild(aY);aX.appendChild(_D);aX.appendChild(aZ);_f&&aW.appendChild(_f);_g&&aW.appendChild(_g)}function aC(bA,bB,bC,bD,bE,_F,_G){var H=window.innerWidth,_i=window.innerHeight,_J=window.devicePixelRatio||1,_k=1/_J,_m='';!isNaN(_i)&&(bA.style.height=`${_i}px`);bA.style.position='fixed';bA.style.margin=bA.style.top=bA.style.left=0;bA.style.width='100%';bA.style.display='flex';bA.style.justifyContent=bA.style.alignItems='center';var _l='';if(c){var N=80,O=_i-N;var R=(bC.naturalWidth&&bC.naturalHeight)?bC.naturalWidth/bC.naturalHeight:0,S=O>0?H/O:0;if(R>S){bC.style.width='100%';bC.style.height='auto'}else{bC.style.width='auto';bC.style.height=`${O}px`}bC.style.maxWidth='100%';bC.style.maxHeight=`${O}px`;bC.style.objectFit='contain';bB.style.maxWidth='100%';bB.style.maxHeight=`${O}px`}else{bC.style.width=bC.style.height='';!isNaN(H)&&(bC.style.maxWidth=(H*_)+'px');!isNaN(_i)&&(bC.style.maxHeight=(_i*b)+'px')}bB.style.margin=0;bB.style.position='relative';bB.style.display='inline-block';bB.style.width=bB.style.height='auto';if(B!==1.0){var P=(_i/2)*(B-1.0);bB.style.top=`${P}px`}bE.style.position='absolute';bE.style.top=bE.style.right=0;bE.style.transform=`scale(${_k})`;bE.style.transformOrigin='top right';bD.style.setProperty('--inv-zoom',_k);_F&&(_F.style.position='absolute',_F.style.top='50%',_F.style.left=(20*_k)+'px',_F.style.transform=`scale(${_k}) translateY(-50%)`,_F.style.transformOrigin='left center',_F.style.marginTop=0);_G&&(_G.style.position='absolute',_G.style.top='50%',_G.style.right=(20*_k)+'px',_G.style.transform=`scale(${_k}) translateY(-50%)`,_G.style.transformOrigin='right center',_G.style.marginTop=0)}function aD(){for(var i=0;i<q.length;i++){var bF=q[i];bF._cleanupNav&&bF._cleanupNav();document.body.removeChild(bF)}q=[];r&&(window.removeEventListener('resize',r),r=null)}function aE(e){e.style.visibility='hidden'}function aF(e){e.style.visibility='visible'}});
